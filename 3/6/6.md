6. Codeanalyse auf SQL-Injections
SQL-Injection analysieren und beheben

Aufgabe: Analysieren Sie den Code auf mögliche SQL-Injection-Schwachstellen und beheben Sie diese.
Lösungshinweis: Verwenden Sie vorbereitete Statements (prepared statements) und ORM-Techniken, um SQL-Injection-Risiken zu mindern.

alice' --

 def checkPassword(self,username,password):
        """
        Prüft ob ein Passwort mit dem Passwort in der Datenbank übereinstimmt.
        :param username:
        :param password:
        :return:
        """
        user_query = f"SELECT * FROM Users WHERE username = %s AND password = %s"
        result = self.execute_query(user_query, (username, password), fetchone=True)
        if result:
            return jsonify({
                'message': 'Logged In',
                'homelink': f'/pages/diary.html?username={username}'
            })
        else:
            return jsonify({
                'message': 'Error logging in!'
            }), 401